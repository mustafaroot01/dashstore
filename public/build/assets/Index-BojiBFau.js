import{r as N,G as I,H as U,c as C,w,a as t,b as y,v as L,o as a,d as o,F as b,e as p,t as l,m as E,n as c,k as j,i as M,f,j as F,u as S,l as T,g as V,q as H}from"./app-DA7iJFsN.js";import{A as O}from"./AdminLayout-CzmyY--h.js";/* empty css            */const z={class:"flex flex-wrap items-center gap-3 mb-6"},A=["value"],Q={class:"text-slate-400 text-sm mr-auto"},$={class:"card overflow-hidden p-0"},q={class:"overflow-x-auto min-h-[350px] pb-32"},G={class:"data-table"},J={class:"text-slate-400 text-xs font-mono text-center"},K={class:"font-mono font-bold text-primary-700 tracking-wider bg-primary-50/50 px-2.5 py-1 rounded-md text-xs border border-primary-100/50"},P={class:"font-medium text-slate-800"},R={class:"text-slate-500 text-sm"},W={class:"font-semibold text-slate-800"},X={class:"relative inline-block"},Y=["onClick"],Z={class:"flex items-center gap-1.5"},tt={key:0,class:"absolute z-50 top-full mt-1.5 right-0 bg-white rounded-xl shadow-xl border border-slate-100 w-52 py-2"},et=["onClick"],st={key:0,class:"w-4 h-4 text-primary-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},lt={class:"text-slate-400 text-xs whitespace-nowrap"},nt={key:0,class:"text-center text-slate-400 text-sm py-10"},at={key:0,class:"flex justify-between items-center px-5 py-3 border-t border-slate-100"},ot={class:"text-slate-500 text-sm"},rt={class:"flex gap-1"},it=["innerHTML"],mt={__name:"Index",props:{orders:Object,filters:Object},setup(n){const h=n,d={pending:{label:"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",cls:"bg-amber-100/50 text-amber-700 border-transparent",dot:"bg-amber-500",text:"text-amber-700"},received:{label:"ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø·Ù„Ø¨",cls:"bg-blue-100/50 text-blue-700 border-transparent",dot:"bg-blue-500",text:"text-blue-700"},preparing:{label:"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ¬Ù‡ÙŠØ²",cls:"bg-violet-100/50 text-violet-700 border-transparent",dot:"bg-violet-500",text:"text-violet-700"},delivering:{label:"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆØµÙŠÙ„",cls:"bg-cyan-100/50 text-cyan-700 border-transparent",dot:"bg-cyan-500",text:"text-cyan-700"},delivered:{label:"ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…",cls:"bg-emerald-100/50 text-emerald-700 border-transparent",dot:"bg-emerald-500",text:"text-emerald-700"},rejected:{label:"ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨",cls:"bg-red-100/50 text-red-700 border-transparent",dot:"bg-red-500",text:"text-red-700"}},r=N({search:h.filters?.search??"",status:h.filters?.status??"",date:h.filters?.date??""}),u=H(null);let k;function g(){clearTimeout(k),k=setTimeout(()=>{V.get(route("admin.orders.index"),r,{preserveState:!0})},400)}function B(i,s){u.value=null,i.status!==s&&V.patch(route("admin.orders.status",i.id),{status:s},{preserveScroll:!0})}function D(i){return Number(i??0).toLocaleString("ar-IQ")+" Ø¯.Ø¹"}function _(){u.value=null}return I(()=>document.addEventListener("click",_)),U(()=>document.removeEventListener("click",_)),(i,s)=>(a(),C(O,{title:"Ø§Ù„Ø·Ù„Ø¨Ø§Øª"},{default:w(()=>[t("div",z,[y(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>r.search=e),type:"text",placeholder:"Ø±Ù‚Ù… ÙØ§ØªÙˆØ±Ø© / Ø§Ø³Ù… Ø²Ø¨ÙˆÙ†...",class:"form-input w-56",onInput:g},null,544),[[L,r.search]]),y(t("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>r.status=e),class:"form-select w-44",onChange:g},[s[3]||(s[3]=t("option",{value:""},"ÙƒÙ„ Ø§Ù„Ø­Ø§Ù„Ø§Øª",-1)),(a(),o(b,null,p(d,(e,x)=>t("option",{key:x,value:x},l(e.label),9,A)),64))],544),[[E,r.status]]),y(t("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>r.date=e),type:"date",class:"form-input w-44",onChange:g},null,544),[[L,r.date]]),t("span",Q,l(n.orders.total)+" Ø·Ù„Ø¨",1)]),t("div",$,[t("div",q,[t("table",G,[s[8]||(s[8]=t("thead",null,[t("tr",null,[t("th",{style:{width:"50px"}},"#"),t("th",null,"Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø©"),t("th",null,"Ø§Ù„Ø²Ø¨ÙˆÙ†"),t("th",null,"Ø§Ù„Ù‚Ø¶Ø§Ø¡"),t("th",null,"Ø§Ù„Ù…Ø¨Ù„Øº"),t("th",null,"Ø§Ù„Ø­Ø§Ù„Ø©"),t("th",null,"Ø§Ù„ØªØ§Ø±ÙŠØ®"),t("th")])],-1)),t("tbody",null,[(a(!0),o(b,null,p(n.orders.data,(e,x)=>(a(),o("tr",{key:e.id},[t("td",J,l((n.orders.current_page-1)*n.orders.per_page+x+1),1),t("td",null,[t("span",K,l(e.invoice_number),1)]),t("td",P,l(e.user?.first_name)+" "+l(e.user?.last_name),1),t("td",R,l(e.district?.governorate?.name)+" - "+l(e.district?.name),1),t("td",W,l(D(e.total_price)),1),t("td",null,[t("div",X,[t("button",{onClick:j(m=>u.value=u.value===e.id?null:e.id,["stop"]),class:c(["flex items-center justify-between min-w-[120px] gap-2 px-3 py-1.5 rounded-full text-xs font-bold transition-all hover:shadow-sm",d[e.status]?.cls??"bg-slate-100 text-slate-600 border-transparent"])},[t("span",Z,[t("span",{class:c(["w-1.5 h-1.5 rounded-full",d[e.status]?.dot])},null,2),M(" "+l(d[e.status]?.label??e.status),1)]),s[4]||(s[4]=t("svg",{class:"w-3 h-3 opacity-50",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))],10,Y),u.value===e.id?(a(),o("div",tt,[s[6]||(s[6]=t("p",{class:"text-[10px] text-slate-400 font-semibold px-3 pb-1.5 uppercase tracking-wider border-b border-slate-50 mb-1"}," ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø© ",-1)),(a(),o(b,null,p(d,(m,v)=>t("button",{key:v,onClick:j(dt=>B(e,v),["stop"]),class:"w-full flex items-center gap-3 px-3 py-2 hover:bg-slate-50 transition-colors text-sm text-right"},[t("span",{class:c(["w-2 h-2 rounded-full flex-shrink-0",m.dot])},null,2),t("span",{class:c(["flex-1",m.text])},l(m.label),3),e.status===v?(a(),o("svg",st,[...s[5]||(s[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M5 13l4 4L19 7"},null,-1)])])):f("",!0)],8,et)),64))])):f("",!0)])]),t("td",lt,l(new Date(e.created_at).toLocaleDateString("ar-IQ")),1),t("td",null,[F(S(T),{href:i.route("admin.orders.show",e.id),class:"btn-secondary py-1.5 px-3 text-xs"},{default:w(()=>[...s[7]||(s[7]=[M(" ðŸ“‹ ØªÙØ§ØµÙŠÙ„ ",-1)])]),_:1},8,["href"])])]))),128))])]),n.orders.data.length?f("",!0):(a(),o("p",nt,"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª"))]),n.orders.last_page>1?(a(),o("div",at,[t("span",ot,l(n.orders.from)+"â€“"+l(n.orders.to)+" Ù…Ù† "+l(n.orders.total)+" Ø·Ù„Ø¨ ",1),t("div",rt,[(a(!0),o(b,null,p(n.orders.links,e=>(a(),C(S(T),{key:e.label,href:e.url??"#",class:c(["px-3 py-1.5 rounded-lg text-sm transition",e.active?"bg-primary-600 text-white font-semibold":"bg-slate-100 text-slate-600 hover:bg-slate-200"])},{default:w(()=>[t("span",{innerHTML:e.label},null,8,it)]),_:2},1032,["href","class"]))),128))])])):f("",!0)])]),_:1}))}};export{mt as default};
