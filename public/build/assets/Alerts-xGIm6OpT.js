import{N as I,O as je,q as Se,g as Oe,c as ee,w as R,a as e,t as v,b as qe,u as k,v as Ie,i as h,j as L,l as N,o as b,d as x,F as te,e as re,f as S,n as ne}from"./app-IK5CPhZk.js";import{A as Re}from"./AdminLayout-DOrr8jPw.js";/* empty css            */var B,se;function ge(){if(se)return B;se=1;function r(s){var a=typeof s;return s!=null&&(a=="object"||a=="function")}return B=r,B}var G,oe;function Ne(){if(oe)return G;oe=1;var r=typeof I=="object"&&I&&I.Object===Object&&I;return G=r,G}var z,ae;function ve(){if(ae)return z;ae=1;var r=Ne(),s=typeof self=="object"&&self&&self.Object===Object&&self,a=r||s||Function("return this")();return z=a,z}var A,ie;function Ee(){if(ie)return A;ie=1;var r=ve(),s=function(){return r.Date.now()};return A=s,A}var V,le;function Me(){if(le)return V;le=1;var r=/\s/;function s(a){for(var i=a.length;i--&&r.test(a.charAt(i)););return i}return V=s,V}var D,de;function Ce(){if(de)return D;de=1;var r=Me(),s=/^\s+/;function a(i){return i&&i.slice(0,r(i)+1).replace(s,"")}return D=a,D}var F,ue;function ye(){if(ue)return F;ue=1;var r=ve(),s=r.Symbol;return F=s,F}var W,ce;function Le(){if(ce)return W;ce=1;var r=ye(),s=Object.prototype,a=s.hasOwnProperty,i=s.toString,l=r?r.toStringTag:void 0;function t(n){var u=a.call(n,l),c=n[l];try{n[l]=void 0;var o=!0}catch{}var f=i.call(n);return o&&(u?n[l]=c:delete n[l]),f}return W=t,W}var P,fe;function Be(){if(fe)return P;fe=1;var r=Object.prototype,s=r.toString;function a(i){return s.call(i)}return P=a,P}var U,me;function Ge(){if(me)return U;me=1;var r=ye(),s=Le(),a=Be(),i="[object Null]",l="[object Undefined]",t=r?r.toStringTag:void 0;function n(u){return u==null?u===void 0?l:i:t&&t in Object(u)?s(u):a(u)}return U=n,U}var H,be;function ze(){if(be)return H;be=1;function r(s){return s!=null&&typeof s=="object"}return H=r,H}var $,xe;function Ae(){if(xe)return $;xe=1;var r=Ge(),s=ze(),a="[object Symbol]";function i(l){return typeof l=="symbol"||s(l)&&r(l)==a}return $=i,$}var K,pe;function Ve(){if(pe)return K;pe=1;var r=Ce(),s=ge(),a=Ae(),i=NaN,l=/^[-+]0x[0-9a-f]+$/i,t=/^0b[01]+$/i,n=/^0o[0-7]+$/i,u=parseInt;function c(o){if(typeof o=="number")return o;if(a(o))return i;if(s(o)){var f=typeof o.valueOf=="function"?o.valueOf():o;o=s(f)?f+"":f}if(typeof o!="string")return o===0?o:+o;o=r(o);var p=t.test(o);return p||n.test(o)?u(o.slice(2),p?2:8):l.test(o)?i:+o}return K=c,K}var X,he;function De(){if(he)return X;he=1;var r=ge(),s=Ee(),a=Ve(),i="Expected a function",l=Math.max,t=Math.min;function n(u,c,o){var f,p,O,w,m,y,_=0,J=!1,T=!1,E=!0;if(typeof u!="function")throw new TypeError(i);c=a(c)||0,r(o)&&(J=!!o.leading,T="maxWait"in o,O=T?l(a(o.maxWait)||0,c):O,E="trailing"in o?!!o.trailing:E);function M(d){var g=f,j=p;return f=p=void 0,_=d,w=u.apply(j,g),w}function we(d){return _=d,m=setTimeout(q,c),J?M(d):w}function ke(d){var g=d-y,j=d-_,Z=c-g;return T?t(Z,O-j):Z}function Q(d){var g=d-y,j=d-_;return y===void 0||g>=c||g<0||T&&j>=O}function q(){var d=s();if(Q(d))return Y(d);m=setTimeout(q,ke(d))}function Y(d){return m=void 0,E&&f?M(d):(f=p=void 0,w)}function _e(){m!==void 0&&clearTimeout(m),_=0,f=y=p=m=void 0}function Te(){return m===void 0?w:Y(s())}function C(){var d=s(),g=Q(d);if(f=arguments,p=this,y=d,g){if(m===void 0)return we(y);if(T)return clearTimeout(m),m=setTimeout(q,c),M(y)}return m===void 0&&(m=setTimeout(q,c)),w}return C.cancel=_e,C.flush=Te,C}return X=n,X}var Fe=De();const We=je(Fe),Pe={class:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-6"},Ue={class:"text-slate-500 mt-2 text-sm leading-relaxed max-w-lg"},He={class:"flex flex-wrap items-center gap-3"},$e={class:"relative w-full md:w-80"},Ke=["href"],Xe={class:"bg-white border border-slate-200/80 rounded-2xl shadow-sm overflow-hidden mb-8"},Je={class:"overflow-x-auto"},Qe={class:"w-full text-right text-sm"},Ye={class:"divide-y divide-slate-100/80"},Ze={class:"py-4 px-5 text-slate-600 font-medium whitespace-nowrap"},et={class:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-bold bg-slate-100/80 text-slate-700 border border-slate-200/60 shadow-sm"},tt={class:"py-4 px-5"},rt={class:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md font-mono text-xs font-medium bg-slate-50/80 text-slate-600 border border-slate-200/60 uppercase tracking-wider",dir:"ltr"},nt={class:"py-4 px-5"},st={key:0,class:"text-xs font-medium text-slate-500 mt-1.5 flex items-center gap-2 flex-wrap"},ot={key:0,class:"flex items-center gap-1"},at={key:1,class:"flex items-center gap-1"},it={class:"py-4 px-5 text-center"},lt={class:"inline-flex flex-col items-center justify-center"},dt={class:"py-4 px-5 text-center"},ut={key:0,class:"px-3 py-1.5 rounded-lg text-red-700 bg-red-50 text-[11px] font-black border border-red-100 shadow-sm inline-flex items-center gap-1.5"},ct={key:1,class:"px-3 py-1.5 rounded-lg text-orange-700 bg-orange-50 text-[11px] font-black border border-orange-100 shadow-sm inline-flex items-center gap-1.5"},ft={class:"py-4 px-5 text-left whitespace-nowrap"},mt={key:0,class:"text-center py-20 bg-slate-50/40"},bt={class:"text-slate-500 mt-2 max-w-sm mx-auto text-sm leading-relaxed"},xt={key:1,class:"px-6 py-4 border-t border-slate-100 bg-white flex items-center justify-center"},pt={class:"flex items-center gap-1.5 bg-slate-50 p-1.5 rounded-xl border border-slate-200/60 shadow-sm"},yt={__name:"Alerts",props:{alerts:Object,filters:Object,lowStockThreshold:Number},setup(r){const a=Se(r.filters.search??""),i=We(()=>{Oe.get(route("admin.inventory.alerts"),{search:a.value},{preserveState:!0,replace:!0})},500);return(l,t)=>(b(),ee(Re,{title:"تنبيهات المخزون"},{default:R(()=>[e("div",Pe,[e("div",null,[t[2]||(t[2]=e("h1",{class:"text-3xl font-black text-slate-900 tracking-tight"},"تنبيهات المخزون",-1)),e("p",Ue," عرض جميع المنتجات التي وصل مخزونها إلى حد التنبيه الآمن ("+v(r.lowStockThreshold)+") أو أقل. ",1)]),e("div",He,[e("div",$e,[t[3]||(t[3]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3.5 pointer-events-none text-slate-400"},[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),qe(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=n=>a.value=n),onInput:t[1]||(t[1]=(...n)=>k(i)&&k(i)(...n)),placeholder:"بحث بالكود (SKU) أو اسم المنتج...",class:"w-full pl-4 pr-11 py-2.5 bg-white border border-slate-200/80 hover:border-slate-300 rounded-xl text-sm focus:ring-4 focus:ring-primary-500/10 focus:border-primary-500 transition-all shadow-sm font-medium text-slate-700 placeholder:text-slate-400"},null,544),[[Ie,a.value]])]),e("a",{href:l.route("admin.inventory.alerts.export",{search:a.value}),class:"bg-emerald-50 text-emerald-700 hover:bg-emerald-100 hover:text-emerald-800 border border-emerald-200/60 px-4 py-2.5 rounded-xl text-sm font-bold flex items-center gap-2 transition-colors shadow-sm whitespace-nowrap"},[...t[4]||(t[4]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),h(" تصدير Excel ",-1)])],8,Ke),L(k(N),{href:l.route("admin.settings.index"),class:"bg-white text-slate-600 hover:bg-slate-50 hover:text-slate-800 border border-slate-200/80 px-4 py-2.5 rounded-xl text-sm font-bold transition-colors shadow-sm flex items-center justify-center whitespace-nowrap group"},{default:R(()=>[...t[5]||(t[5]=[e("svg",{class:"w-5 h-5 ml-2 text-slate-400 group-hover:text-slate-600 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),h(" تعديل الحد ",-1)])]),_:1},8,["href"])])]),e("div",Xe,[e("div",Je,[e("table",Qe,[t[12]||(t[12]=e("thead",{class:"bg-slate-50 border-b border-slate-200/80 text-slate-500 font-bold text-[13px] tracking-wide"},[e("tr",null,[e("th",{class:"py-4 px-5"},"القسم"),e("th",{class:"py-4 px-5"},"كود المنتج (SKU)"),e("th",{class:"py-4 px-5"},"المنتج والتفاصيل"),e("th",{class:"py-4 px-5 text-center"},"المخزون الحالي"),e("th",{class:"py-4 px-5 text-center"},"حالة التنبيه"),e("th",{class:"py-4 px-5 text-left"},"إجراءات")])],-1)),e("tbody",Ye,[(b(!0),x(te,null,re(r.alerts.data,n=>(b(),x("tr",{key:n.id,class:"hover:bg-slate-50/60 transition-colors group"},[e("td",Ze,[e("span",et,v(n.category_name),1)]),e("td",tt,[e("span",rt,[t[6]||(t[6]=e("svg",{class:"w-3.5 h-3.5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),h(" "+v(n.sku||"N/A"),1)])]),e("td",nt,[L(k(N),{href:l.route("admin.products.edit",n.product_id),class:"text-slate-800 font-bold hover:text-primary-600 transition-colors truncate block max-w-sm text-[15px]"},{default:R(()=>[h(v(n.product_name),1)]),_:2},1032,["href"]),n.color||n.size?(b(),x("div",st,[n.color?(b(),x("span",ot,[t[7]||(t[7]=e("span",{class:"w-1.5 h-1.5 rounded-full bg-slate-300"},null,-1)),h(v(n.color),1)])):S("",!0),n.size?(b(),x("span",at,[t[8]||(t[8]=e("span",{class:"w-1.5 h-1.5 rounded-full bg-slate-300"},null,-1)),h(v(n.size),1)])):S("",!0)])):S("",!0)]),e("td",it,[e("div",lt,[e("span",{class:ne(["text-2xl font-black tracking-tighter leading-none",n.stock===0?"text-red-600":"text-orange-500"])},v(n.stock),3)])]),e("td",dt,[n.stock===0?(b(),x("span",ut,[...t[9]||(t[9]=[e("span",{class:"w-2 h-2 rounded-full bg-red-500 animate-pulse relative"},[e("span",{class:"absolute inset-0 rounded-full bg-red-500 blur-sm"})],-1),h(" نفذت الكمية تماماً ",-1)])])):(b(),x("span",ct,[...t[10]||(t[10]=[e("span",{class:"w-2 h-2 rounded-full bg-orange-500"},null,-1),h(" مخزون قليل جداً ",-1)])]))]),e("td",ft,[L(k(N),{href:l.route("admin.products.edit",n.product_id),class:"inline-flex items-center justify-center bg-white text-slate-700 hover:bg-primary-50 hover:text-primary-700 px-3 py-2 rounded-lg text-[13px] font-bold transition-all border border-slate-200 hover:border-primary-200 shadow-sm group-hover:bg-white"},{default:R(()=>[...t[11]||(t[11]=[h(" إدارة المنتج ",-1)])]),_:1},8,["href"])])]))),128))])])]),r.alerts.data.length?S("",!0):(b(),x("div",mt,[t[13]||(t[13]=e("div",{class:"w-20 h-20 bg-emerald-50 text-emerald-500 rounded-3xl flex items-center justify-center mx-auto mb-5 border border-emerald-100 shadow-sm rotate-3"},[e("svg",{class:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t[14]||(t[14]=e("h3",{class:"text-xl font-black text-slate-800"},"كل شيء على ما يرام!",-1)),e("p",bt," جميع منتجاتك تمتلك مخزوناً كافياً أعلى من حد الخطر الذي قمت بتحديده ("+v(r.lowStockThreshold)+" قطع). ",1)])),r.alerts.links.length>3?(b(),x("div",xt,[e("div",pt,[(b(!0),x(te,null,re(r.alerts.links,(n,u)=>(b(),ee(k(N),{key:u,href:n.url??"#",innerHTML:n.label,class:ne(["px-3 py-1.5 rounded-lg text-sm font-medium transition-all min-w-[36px] text-center flex items-center justify-center",[n.active?"bg-white text-primary-600 shadow-sm border border-slate-200":"text-slate-500 hover:text-slate-800 hover:bg-slate-200/50 border border-transparent",n.url?"":"opacity-40 pointer-events-none"]])},null,8,["href","innerHTML","class"]))),128))])])):S("",!0)])]),_:1}))}};export{yt as default};
