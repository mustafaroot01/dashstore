import{q as v,c as V,w as L,a as t,k as g,b as f,v as _,t as n,i as c,o as l,d as o,F as m,e as p,A as S,f as r,n as z,g as k,p as B}from"./app-DA7iJFsN.js";import{A as N}from"./AdminLayout-CzmyY--h.js";/* empty css            */const T={class:"max-w-7xl mx-auto space-y-6 pb-12"},H={class:"card bg-slate-900 border-0 text-white shadow-xl relative overflow-hidden"},F={class:"relative flex flex-col items-start gap-6"},U={class:"flex-1 w-full"},A={class:"flex-1 w-full"},q={class:"flex items-center gap-2 w-full sm:w-auto mt-2 sm:mt-0"},D=["disabled"],E={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},P={class:"card p-6 flex flex-col justify-center relative overflow-hidden group shadow-sm hover:shadow-md transition-shadow"},I={class:"relative z-10"},O={class:"text-3xl font-bold font-mono text-slate-800",dir:"ltr"},R={class:"card p-6 flex flex-col justify-center relative overflow-hidden group shadow-sm hover:shadow-md transition-shadow"},$={class:"relative z-10"},G={class:"text-3xl font-bold font-mono text-slate-800",dir:"ltr"},J={class:"card p-6 flex flex-col justify-center relative overflow-hidden group shadow-sm hover:shadow-md transition-shadow"},K={class:"relative z-10"},Q={class:"text-3xl font-bold font-mono text-slate-800"},W={class:"card p-6 flex flex-col justify-center relative overflow-hidden group shadow-sm hover:shadow-md transition-shadow"},X={class:"relative z-10"},Y={class:"text-3xl font-bold font-mono text-slate-800"},Z={class:"card p-0 overflow-hidden shadow-sm"},tt={class:"p-5 border-b border-slate-100 bg-white flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},et={class:"flex items-center gap-3"},st={class:"text-xs font-semibold bg-slate-100 text-slate-600 px-3 py-1 rounded-full"},lt={class:"relative group"},ot={class:"absolute left-0 mt-2 w-48 bg-white border border-slate-100 rounded-xl shadow-lg shadow-slate-200/50 p-3 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-20"},nt={class:"space-y-2"},rt=["onUpdate:modelValue"],at={class:"text-sm font-medium text-slate-600 group-hover/label:text-blue-600 transition-colors"},it={class:"overflow-x-auto"},dt={class:"w-full text-right bg-white min-w-[800px]"},ut={class:"bg-slate-50 border-b border-slate-100 text-slate-500"},ct={key:0,class:"p-4 font-bold"},bt={key:1,class:"p-4 font-bold"},xt={key:2,class:"p-4 font-bold"},mt={key:3,class:"p-4 font-bold"},vt={key:4,class:"p-4 font-bold"},ft={key:5,class:"p-4 font-bold rounded-tl-xl text-center"},pt={class:"divide-y divide-slate-100/80"},ht={key:0},wt=["colspan"],gt={class:"p-4 text-center cursor-default text-slate-400 font-mono text-sm leading-none"},_t={key:0,class:"p-4 font-bold text-slate-800 font-mono"},kt={key:1,class:"p-4 text-slate-500 text-sm font-mono",dir:"ltr"},yt={key:2,class:"p-4"},jt={class:"font-bold text-slate-800"},Ct={class:"text-xs text-slate-500 font-mono mt-0.5",dir:"ltr"},Mt={key:3,class:"p-4 text-slate-600 text-sm truncate max-w-[150px]"},Vt={key:4,class:"p-4"},Lt={class:"font-bold text-emerald-600 font-mono",dir:"ltr"},St={key:0,class:"text-xs text-red-400 mt-0.5 font-mono"},zt={key:5,class:"p-4 text-center"},Bt={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-green-100 text-green-800"},Nt={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-red-100 text-red-800"},Tt={key:2,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-blue-100 text-blue-800"},Ht={key:0,class:"p-4 border-t border-slate-100 bg-slate-50 flex items-center justify-center"},Ft={class:"flex flex-wrap justify-center gap-1"},Ut=["onClick","innerHTML"],At=["innerHTML"],Pt={__name:"Index",props:["orders","stats","filters"],setup(i){const h=i,d=v({start_date:h.filters.start_date||"",end_date:h.filters.end_date||""}),x=v(!1),a=v({orderNumber:{label:"رقم الفاتورة",visible:!0},date:{label:"التاريخ",visible:!0},customer:{label:"الزبون",visible:!0},address:{label:"العنوان",visible:!0},total:{label:"المبلغ النهائي",visible:!0},status:{label:"الحالة",visible:!0}}),y=B(()=>Object.values(a.value).filter(u=>u.visible).length);function j(){x.value=!0,k.get(route("admin.inventory.index"),d.value,{preserveState:!0,preserveScroll:!0,onFinish:()=>x.value=!1})}function C(){const u=new URLSearchParams(d.value).toString();window.location.href=route("admin.inventory.export")+"?"+u}function M(u){u&&k.visit(u,{preserveScroll:!0,data:d.value})}return(u,e)=>(l(),V(N,{title:"سجل الجرد والتقارير"},{default:L(()=>[t("div",T,[t("div",H,[e[6]||(e[6]=t("div",{class:"absolute inset-0 bg-gradient-to-br from-blue-600/20 to-transparent pointer-events-none"},null,-1)),t("div",F,[e[5]||(e[5]=t("div",{class:"flex items-center gap-4"},[t("div",{class:"bg-white/10 p-3 rounded-2xl flex-shrink-0"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),t("div",null,[t("h2",{class:"text-2xl font-bold font-mono"},"الجرد والتقارير التفصيلية"),t("p",{class:"text-slate-400 mt-1 text-sm"},"احصائيات شاملة للفترة المحددة مع إمكانية التصدير")])],-1)),t("form",{onSubmit:g(j,["prevent"]),class:"w-full bg-white/5 p-4 rounded-xl border border-white/10 flex flex-col sm:flex-row items-end gap-4"},[t("div",U,[e[2]||(e[2]=t("label",{class:"block text-xs font-semibold text-slate-300 mb-1"},"من تاريخ",-1)),f(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=s=>d.value.start_date=s),class:"form-input bg-slate-800 border-slate-700 text-white w-full rounded-lg px-3 py-2 text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500"},null,512),[[_,d.value.start_date]])]),t("div",A,[e[3]||(e[3]=t("label",{class:"block text-xs font-semibold text-slate-300 mb-1"},"إلى تاريخ",-1)),f(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=s=>d.value.end_date=s),class:"form-input bg-slate-800 border-slate-700 text-white w-full rounded-lg px-3 py-2 text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500"},null,512),[[_,d.value.end_date]])]),t("div",q,[t("button",{type:"submit",class:"btn bg-blue-600 hover:bg-blue-500 text-white border-none w-full sm:w-auto px-6",disabled:x.value},n(x.value?"جاري الفلترة...":"عرض التقارير"),9,D),t("button",{type:"button",onClick:C,class:"btn bg-emerald-600 hover:bg-emerald-500 text-white border-none shrink-0 flex items-center justify-center gap-2 px-4 shadow-lg shadow-emerald-900/20",title:"تصدير إلى Excel/CSV"},[...e[4]||(e[4]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),c(" تصدير ",-1)])])])],32)])]),t("div",E,[t("div",P,[e[9]||(e[9]=t("div",{class:"absolute -left-6 -top-6 w-24 h-24 bg-emerald-50 rounded-full group-hover:scale-150 transition-transform duration-500 z-0"},null,-1)),t("div",I,[e[8]||(e[8]=t("div",{class:"flex items-center justify-between mb-2"},[t("h3",{class:"text-slate-500 font-semibold text-sm"},"إجمالي الإيرادات"),t("div",{class:"bg-emerald-100 p-2 rounded-xl"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),t("p",O,[c(n(Number(i.stats.total_revenue).toLocaleString())+" ",1),e[7]||(e[7]=t("span",{class:"text-sm font-normal text-slate-500"},"د.ع",-1))])])]),t("div",R,[e[12]||(e[12]=t("div",{class:"absolute -left-6 -top-6 w-24 h-24 bg-blue-50 rounded-full group-hover:scale-150 transition-transform duration-500 z-0"},null,-1)),t("div",$,[e[11]||(e[11]=t("div",{class:"flex items-center justify-between mb-2"},[t("h3",{class:"text-slate-500 font-semibold text-sm"},"صافي الأرباح"),t("div",{class:"bg-blue-100 p-2 rounded-xl"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])])],-1)),t("p",G,[c(n(Number(i.stats.net_profit).toLocaleString())+" ",1),e[10]||(e[10]=t("span",{class:"text-sm font-normal text-slate-500"},"د.ع",-1))])])]),t("div",J,[e[15]||(e[15]=t("div",{class:"absolute -left-6 -top-6 w-24 h-24 bg-green-50 rounded-full group-hover:scale-150 transition-transform duration-500 z-0"},null,-1)),t("div",K,[e[14]||(e[14]=t("div",{class:"flex items-center justify-between mb-2"},[t("h3",{class:"text-slate-500 font-semibold text-sm"},"الطلبات المستلمة (الناجحة)"),t("div",{class:"bg-green-100 p-2 rounded-xl"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])])],-1)),t("p",Q,[c(n(i.stats.total_delivered_count)+" ",1),e[13]||(e[13]=t("span",{class:"text-sm font-normal text-slate-500"},"طلب",-1))])])]),t("div",W,[e[18]||(e[18]=t("div",{class:"absolute -left-6 -top-6 w-24 h-24 bg-red-50 rounded-full group-hover:scale-150 transition-transform duration-500 z-0"},null,-1)),t("div",X,[e[17]||(e[17]=t("div",{class:"flex items-center justify-between mb-2"},[t("h3",{class:"text-slate-500 font-semibold text-sm"},"الطلبات المرفوضة/الملغاة"),t("div",{class:"bg-red-100 p-2 rounded-xl"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])])],-1)),t("p",Y,[c(n(i.stats.total_rejected_count)+" ",1),e[16]||(e[16]=t("span",{class:"text-sm font-normal text-slate-500"},"طلب",-1))])])])]),t("div",Z,[t("div",tt,[t("div",et,[e[19]||(e[19]=t("h3",{class:"font-bold text-slate-800 text-lg"},"سجل الطلبات للفترة المحددة",-1)),t("span",st,"إجمالي الريكوردات: "+n(i.orders.total),1)]),t("div",lt,[e[21]||(e[21]=t("button",{class:"btn bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 text-sm flex items-center gap-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})]),c(" تخصيص الأعمدة ")],-1)),t("div",ot,[e[20]||(e[20]=t("p",{class:"text-xs font-bold text-slate-400 mb-2 pb-2 border-b border-slate-100"},"إظهار / إخفاء",-1)),t("div",nt,[(l(!0),o(m,null,p(a.value,(s,b)=>(l(),o("label",{key:b,class:"flex items-center gap-2 cursor-pointer group/label"},[f(t("input",{type:"checkbox","onUpdate:modelValue":w=>s.visible=w,class:"rounded text-blue-600 focus:ring-blue-500 border-slate-300"},null,8,rt),[[S,s.visible]]),t("span",at,n(s.label),1)]))),128))])])])]),t("div",it,[t("table",dt,[t("thead",ut,[t("tr",null,[e[22]||(e[22]=t("th",{class:"p-4 font-bold rounded-tr-xl w-16 text-center"},"#",-1)),a.value.orderNumber.visible?(l(),o("th",ct,"رقم الفاتورة")):r("",!0),a.value.date.visible?(l(),o("th",bt,"التاريخ")):r("",!0),a.value.customer.visible?(l(),o("th",xt,"الزبون")):r("",!0),a.value.address.visible?(l(),o("th",mt,"العنوان")):r("",!0),a.value.total.visible?(l(),o("th",vt,"المبلغ النهائي")):r("",!0),a.value.status.visible?(l(),o("th",ft,"الحالة")):r("",!0)])]),t("tbody",pt,[i.orders.data.length===0?(l(),o("tr",ht,[t("td",{colspan:y.value+1,class:"p-8 text-center text-slate-500"}," لا توجد طلبات في هذه الفترة الزمنية. ",8,wt)])):r("",!0),(l(!0),o(m,null,p(i.orders.data,(s,b)=>(l(),o("tr",{key:s.id,class:"hover:bg-slate-50/50 transition duration-150"},[t("td",gt,n((i.orders.current_page-1)*i.orders.per_page+b+1),1),a.value.orderNumber.visible?(l(),o("td",_t,n(s.order_number),1)):r("",!0),a.value.date.visible?(l(),o("td",kt,n(s.created_at),1)):r("",!0),a.value.customer.visible?(l(),o("td",yt,[t("div",jt,n(s.customer_name),1),t("div",Ct,n(s.customer_phone),1)])):r("",!0),a.value.address.visible?(l(),o("td",Mt,n(s.district),1)):r("",!0),a.value.total.visible?(l(),o("td",Vt,[t("div",Lt,n(Number(s.final_total).toLocaleString())+" د.ع",1),s.discount>0?(l(),o("div",St,"خصم: "+n(Number(s.discount).toLocaleString()),1)):r("",!0)])):r("",!0),a.value.status.visible?(l(),o("td",zt,[s.status==="delivered"?(l(),o("span",Bt,n(s.status_label),1)):s.status==="rejected"||s.status==="cancelled"?(l(),o("span",Nt,n(s.status_label),1)):(l(),o("span",Tt,n(s.status_label),1))])):r("",!0)]))),128))])])]),i.orders.links&&i.orders.links.length>3?(l(),o("div",Ht,[t("div",Ft,[(l(!0),o(m,null,p(i.orders.links,(s,b)=>(l(),o(m,{key:b},[s.url?(l(),o("button",{key:0,onClick:g(w=>M(s.url),["prevent"]),class:z(["px-3 py-1 m-1 text-sm rounded-lg transition-colors border shadow-sm",s.active?"bg-blue-600 text-white border-blue-600 font-bold":"bg-white text-slate-600 hover:bg-slate-100 border-slate-200"]),innerHTML:s.label},null,10,Ut)):(l(),o("span",{key:1,class:"px-3 py-1 m-1 text-sm text-slate-400 bg-slate-100 rounded-lg border border-slate-200",innerHTML:s.label},null,8,At))],64))),128))])])):r("",!0)])])]),_:1}))}};export{Pt as default};
